version: '3.4'

services:
  ns3-box:
    image: ns3
    stdin_open: true
    tty: true
    build:
      context: .
      dockerfile: ./ns3/Dockerfile
    volumes:
      - ./ns3/ns-3-dev:/ns-3-dev:bind
    networks:
      delnet:
        ipv4_address: 172.16.238.2
  node1:
    image: pydock
    build:
      context: .
      dockerfile: ./Dockerfile
    networks:
      delnet:
        ipv4_address: 172.16.238.11
  node2:
    image: pydock
    build:
      context: .
      dockerfile: ./Dockerfile
    networks:
      delnet:
        ipv4_address: 172.16.238.12
  node3:
    image: pydock
    build:
      context: .
      dockerfile: ./Dockerfile
    networks:
      delnet:
        ipv4_address: 172.16.238.13


networks:
  delnet:
    ipam:
      config:
        - subnet: 172.16.238.0/24
    
